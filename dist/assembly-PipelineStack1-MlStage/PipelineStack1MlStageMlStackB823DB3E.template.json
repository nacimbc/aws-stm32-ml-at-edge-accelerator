{
 "Resources": {
  "SagmakerServiceCatalogLaunchRole775FB8E6": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "servicecatalog.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/AmazonSageMakerAdmin-ServiceCatalogProductsServiceRolePolicy"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/Sagmaker/ServiceCatalogLaunchRole/Resource"
   }
  },
  "SagmakerPortfolioEBC18671": {
   "Type": "AWS::ServiceCatalog::Portfolio",
   "Properties": {
    "DisplayName": "MlStageMlStackSagmaker4C98EF83",
    "ProviderName": "Providor"
   },
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/Sagmaker/Portfolio/Resource"
   }
  },
  "SagmakerPortfolioPortolioPrincipalAssociation728a7894dab3169521FE": {
   "Type": "AWS::ServiceCatalog::PortfolioPrincipalAssociation",
   "Properties": {
    "PortfolioId": {
     "Ref": "SagmakerPortfolioEBC18671"
    },
    "PrincipalARN": "arn:aws:iam::958196000588:role/cdk-stmicro-cfn-exec-role-958196000588-eu-west-3",
    "PrincipalType": "IAM"
   },
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/Sagmaker/Portfolio/PortolioPrincipalAssociation728a7894dab3"
   }
  },
  "SagmakerPortfolioPortfolioProductAssociation13a2dfde76dcD85CEE26": {
   "Type": "AWS::ServiceCatalog::PortfolioProductAssociation",
   "Properties": {
    "PortfolioId": {
     "Ref": "SagmakerPortfolioEBC18671"
    },
    "ProductId": {
     "Ref": "SagmakerProduct17CAE0EA"
    }
   },
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/Sagmaker/Portfolio/PortfolioProductAssociation13a2dfde76dc"
   }
  },
  "SagmakerPortfolioLaunchRoleConstraint13a2dfde76dcA40CD252": {
   "Type": "AWS::ServiceCatalog::LaunchRoleConstraint",
   "Properties": {
    "PortfolioId": {
     "Ref": "SagmakerPortfolioEBC18671"
    },
    "ProductId": {
     "Ref": "SagmakerProduct17CAE0EA"
    },
    "RoleArn": {
     "Fn::GetAtt": [
      "SagmakerServiceCatalogLaunchRole775FB8E6",
      "Arn"
     ]
    }
   },
   "DependsOn": [
    "SagmakerPortfolioPortfolioProductAssociation13a2dfde76dcD85CEE26"
   ],
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/Sagmaker/Portfolio/LaunchRoleConstraint13a2dfde76dc"
   }
  },
  "SagmakerPortfolioPortolioPrincipalAssociation4833483b6747702A5AFD": {
   "Type": "AWS::ServiceCatalog::PortfolioPrincipalAssociation",
   "Properties": {
    "PortfolioId": {
     "Ref": "SagmakerPortfolioEBC18671"
    },
    "PrincipalARN": {
     "Fn::GetAtt": [
      "SagmakerSagemakerDomainRole4CCF5D3B",
      "Arn"
     ]
    },
    "PrincipalType": "IAM"
   },
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/Sagmaker/Portfolio/PortolioPrincipalAssociation4833483b6747"
   }
  },
  "SagmakerProduct17CAE0EA": {
   "Type": "AWS::ServiceCatalog::CloudFormationProduct",
   "Properties": {
    "Name": "MlStageMlStackSagmaker4C98EF83",
    "Owner": "Owner",
    "ProvisioningArtifactParameters": [
     {
      "DisableTemplateValidation": false,
      "Info": {
       "LoadTemplateFromURL": {
        "Fn::Sub": "https://s3.eu-west-3.${AWS::URLSuffix}/cdk-stmicro-assets-958196000588-eu-west-3/87550c5598fa092ac39d7286c3d263979c906af96daad9be2b57b4c9d5adfd5a.json"
       }
      },
      "Name": "v1"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/Sagmaker/Product/Resource"
   }
  },
  "SagmakerSagemakerDomainRole4CCF5D3B": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "sagemaker.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/AmazonSageMakerFullAccess"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/Sagmaker/SagemakerDomainRole/Resource"
   }
  },
  "SagmakerSagemakerDomain17CD981C": {
   "Type": "AWS::SageMaker::Domain",
   "Properties": {
    "AuthMode": "IAM",
    "DefaultUserSettings": {
     "ExecutionRole": {
      "Fn::GetAtt": [
       "SagmakerSagemakerDomainRole4CCF5D3B",
       "Arn"
      ]
     }
    },
    "DomainName": "stmicro",
    "SubnetIds": [
     "subnet-0d0a7f125488122b4"
    ],
    "VpcId": "vpc-043059375b7e99f61"
   },
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/Sagmaker/SagemakerDomain"
   }
  },
  "SagmakerUserProfileE51CBD85": {
   "Type": "AWS::SageMaker::UserProfile",
   "Properties": {
    "DomainId": {
     "Fn::GetAtt": [
      "SagmakerSagemakerDomain17CD981C",
      "DomainId"
     ]
    },
    "UserProfileName": "MlStageMlStackSagmaker4C98EF83"
   },
   "DependsOn": [
    "SagmakerSagemakerDomain17CD981C"
   ],
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/Sagmaker/UserProfile"
   }
  },
  "SagmakerStmProjectCrRoleE1EFC519": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/AmazonSSMFullAccess"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/Sagmaker/StmProject/CrRole/Resource"
   }
  },
  "SagmakerStmProjectPutNameCr74B111FB": {
   "Type": "Custom::AWS",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "AWS679f53fac002430cb0da5b7982bd22872D164C4C",
      "Arn"
     ]
    },
    "Create": "{\"service\":\"SSM\",\"action\":\"putParameter\",\"parameters\":{\"Name\":\"MlStageMlStackSagmakerStmProject6BDF3E2C\",\"Value\":\"StmProject-1702032712066\",\"Type\":\"String\",\"Overwrite\":false},\"physicalResourceId\":{\"id\":\"PutName\"}}",
    "Delete": "{\"service\":\"SSM\",\"action\":\"deleteParameter\",\"parameters\":{\"Name\":\"MlStageMlStackSagmakerStmProject6BDF3E2C\"}}",
    "InstallLatestAwsSdk": false
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/Sagmaker/StmProject/PutNameCr/Resource/Default"
   }
  },
  "SagmakerStmProjectGetNameCrC74D4321": {
   "Type": "Custom::AWS",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "AWS679f53fac002430cb0da5b7982bd22872D164C4C",
      "Arn"
     ]
    },
    "Create": "{\"service\":\"SSM\",\"action\":\"getParameter\",\"parameters\":{\"Name\":\"MlStageMlStackSagmakerStmProject6BDF3E2C\"},\"physicalResourceId\":{\"id\":\"GetName\"}}",
    "Update": "{\"service\":\"SSM\",\"action\":\"getParameter\",\"parameters\":{\"Name\":\"MlStageMlStackSagmakerStmProject6BDF3E2C\"},\"physicalResourceId\":{\"id\":\"GetName\"}}",
    "InstallLatestAwsSdk": false
   },
   "DependsOn": [
    "SagmakerStmProjectPutNameCr74B111FB"
   ],
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/Sagmaker/StmProject/GetNameCr/Resource/Default"
   }
  },
  "SagmakerProject9DB5E616": {
   "Type": "AWS::SageMaker::Project",
   "Properties": {
    "ProjectName": {
     "Fn::GetAtt": [
      "SagmakerStmProjectGetNameCrC74D4321",
      "Parameter.Value"
     ]
    },
    "ServiceCatalogProvisioningDetails": {
     "ProductId": {
      "Ref": "SagmakerProduct17CAE0EA"
     }
    }
   },
   "DependsOn": [
    "SagmakerPortfolioLaunchRoleConstraint13a2dfde76dcA40CD252",
    "SagmakerPortfolioPortfolioProductAssociation13a2dfde76dcD85CEE26",
    "SagmakerPortfolioPortolioPrincipalAssociation4833483b6747702A5AFD",
    "SagmakerPortfolioPortolioPrincipalAssociation728a7894dab3169521FE",
    "SagmakerPortfolioEBC18671",
    "SagmakerProduct17CAE0EA",
    "SagmakerSagemakerDomain17CD981C",
    "SagmakerSagemakerDomainRole4CCF5D3B",
    "SagmakerUserProfileE51CBD85"
   ],
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/Sagmaker/Project"
   }
  },
  "SagmakerSagemakerApp32B4BBD6": {
   "Type": "AWS::SageMaker::App",
   "Properties": {
    "AppName": "default",
    "AppType": "JupyterServer",
    "DomainId": {
     "Fn::GetAtt": [
      "SagmakerSagemakerDomain17CD981C",
      "DomainId"
     ]
    },
    "UserProfileName": "MlStageMlStackSagmaker4C98EF83"
   },
   "DependsOn": [
    "SagmakerSagemakerDomain17CD981C",
    "SagmakerUserProfileE51CBD85"
   ],
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/Sagmaker/SagemakerApp"
   }
  },
  "AWS679f53fac002430cb0da5b7982bd22872D164C4C": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-stmicro-assets-958196000588-eu-west-3",
     "S3Key": "f9346b940b724b094a16ca051c017799995fa93df6da38a0539bf7c000fee50a.zip"
    },
    "Role": {
     "Fn::GetAtt": [
      "SagmakerStmProjectCrRoleE1EFC519",
      "Arn"
     ]
    },
    "Handler": "index.handler",
    "Runtime": "nodejs16.x",
    "Timeout": 120
   },
   "DependsOn": [
    "SagmakerStmProjectCrRoleE1EFC519"
   ],
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/AWS679f53fac002430cb0da5b7982bd2287/Resource",
    "aws:asset:path": "../asset.f9346b940b724b094a16ca051c017799995fa93df6da38a0539bf7c000fee50a",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "SagemakerPipelineMlOutputAccessLog1B875E20": {
   "Type": "AWS::S3::Bucket",
   "Properties": {
    "BucketEncryption": {
     "ServerSideEncryptionConfiguration": [
      {
       "ServerSideEncryptionByDefault": {
        "SSEAlgorithm": "AES256"
       }
      }
     ]
    },
    "PublicAccessBlockConfiguration": {
     "BlockPublicAcls": true,
     "BlockPublicPolicy": true,
     "IgnorePublicAcls": true,
     "RestrictPublicBuckets": true
    },
    "Tags": [
     {
      "Key": "aws-cdk:auto-delete-objects",
      "Value": "true"
     }
    ],
    "VersioningConfiguration": {
     "Status": "Enabled"
    }
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/SagemakerPipeline/MlOutputAccessLog/Resource"
   }
  },
  "SagemakerPipelineMlOutputAccessLogPolicy7689CC02": {
   "Type": "AWS::S3::BucketPolicy",
   "Properties": {
    "Bucket": {
     "Ref": "SagemakerPipelineMlOutputAccessLog1B875E20"
    },
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "s3:*",
       "Condition": {
        "Bool": {
         "aws:SecureTransport": "false"
        }
       },
       "Effect": "Deny",
       "Principal": {
        "AWS": "*"
       },
       "Resource": [
        {
         "Fn::GetAtt": [
          "SagemakerPipelineMlOutputAccessLog1B875E20",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "SagemakerPipelineMlOutputAccessLog1B875E20",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "s3:DeleteObject*",
        "s3:GetBucket*",
        "s3:List*"
       ],
       "Effect": "Allow",
       "Principal": {
        "AWS": {
         "Fn::GetAtt": [
          "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
          "Arn"
         ]
        }
       },
       "Resource": [
        {
         "Fn::GetAtt": [
          "SagemakerPipelineMlOutputAccessLog1B875E20",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "SagemakerPipelineMlOutputAccessLog1B875E20",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": "s3:PutObject",
       "Condition": {
        "ArnLike": {
         "aws:SourceArn": {
          "Fn::GetAtt": [
           "SagemakerPipelineMlOutput3D9DF56C",
           "Arn"
          ]
         }
        },
        "StringEquals": {
         "aws:SourceAccount": "958196000588"
        }
       },
       "Effect": "Allow",
       "Principal": {
        "Service": "logging.s3.amazonaws.com"
       },
       "Resource": {
        "Fn::Join": [
         "",
         [
          {
           "Fn::GetAtt": [
            "SagemakerPipelineMlOutputAccessLog1B875E20",
            "Arn"
           ]
          },
          "/*"
         ]
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    }
   },
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/SagemakerPipeline/MlOutputAccessLog/Policy/Resource"
   }
  },
  "SagemakerPipelineMlOutputAccessLogAutoDeleteObjectsCustomResource3E2D6C46": {
   "Type": "Custom::S3AutoDeleteObjects",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F",
      "Arn"
     ]
    },
    "BucketName": {
     "Ref": "SagemakerPipelineMlOutputAccessLog1B875E20"
    }
   },
   "DependsOn": [
    "SagemakerPipelineMlOutputAccessLogPolicy7689CC02"
   ],
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/SagemakerPipeline/MlOutputAccessLog/AutoDeleteObjectsCustomResource/Default"
   }
  },
  "SagemakerPipelineMlOutput3D9DF56C": {
   "Type": "AWS::S3::Bucket",
   "Properties": {
    "BucketEncryption": {
     "ServerSideEncryptionConfiguration": [
      {
       "ServerSideEncryptionByDefault": {
        "SSEAlgorithm": "AES256"
       }
      }
     ]
    },
    "LoggingConfiguration": {
     "DestinationBucketName": {
      "Ref": "SagemakerPipelineMlOutputAccessLog1B875E20"
     }
    },
    "PublicAccessBlockConfiguration": {
     "BlockPublicAcls": true,
     "BlockPublicPolicy": true,
     "IgnorePublicAcls": true,
     "RestrictPublicBuckets": true
    },
    "Tags": [
     {
      "Key": "aws-cdk:auto-delete-objects",
      "Value": "true"
     }
    ],
    "VersioningConfiguration": {
     "Status": "Enabled"
    }
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/SagemakerPipeline/MlOutput/Resource"
   }
  },
  "SagemakerPipelineMlOutputPolicyF4DE9B8D": {
   "Type": "AWS::S3::BucketPolicy",
   "Properties": {
    "Bucket": {
     "Ref": "SagemakerPipelineMlOutput3D9DF56C"
    },
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "s3:*",
       "Condition": {
        "Bool": {
         "aws:SecureTransport": "false"
        }
       },
       "Effect": "Deny",
       "Principal": {
        "AWS": "*"
       },
       "Resource": [
        {
         "Fn::GetAtt": [
          "SagemakerPipelineMlOutput3D9DF56C",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "SagemakerPipelineMlOutput3D9DF56C",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "s3:DeleteObject*",
        "s3:GetBucket*",
        "s3:List*"
       ],
       "Effect": "Allow",
       "Principal": {
        "AWS": {
         "Fn::GetAtt": [
          "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
          "Arn"
         ]
        }
       },
       "Resource": [
        {
         "Fn::GetAtt": [
          "SagemakerPipelineMlOutput3D9DF56C",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "SagemakerPipelineMlOutput3D9DF56C",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "s3:GetBucket*",
        "s3:GetObject*",
        "s3:List*"
       ],
       "Effect": "Allow",
       "Principal": {
        "AWS": "arn:aws:iam::958196000588:root"
       },
       "Resource": [
        {
         "Fn::GetAtt": [
          "SagemakerPipelineMlOutput3D9DF56C",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "SagemakerPipelineMlOutput3D9DF56C",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    }
   },
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/SagemakerPipeline/MlOutput/Policy/Resource"
   }
  },
  "SagemakerPipelineMlOutputAutoDeleteObjectsCustomResource53B63B04": {
   "Type": "Custom::S3AutoDeleteObjects",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F",
      "Arn"
     ]
    },
    "BucketName": {
     "Ref": "SagemakerPipelineMlOutput3D9DF56C"
    }
   },
   "DependsOn": [
    "SagemakerPipelineMlOutputPolicyF4DE9B8D"
   ],
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/SagemakerPipeline/MlOutput/AutoDeleteObjectsCustomResource/Default"
   }
  },
  "SagemakerPipelineDataSetsAccessLog458ACA20": {
   "Type": "AWS::S3::Bucket",
   "Properties": {
    "BucketEncryption": {
     "ServerSideEncryptionConfiguration": [
      {
       "ServerSideEncryptionByDefault": {
        "SSEAlgorithm": "AES256"
       }
      }
     ]
    },
    "PublicAccessBlockConfiguration": {
     "BlockPublicAcls": true,
     "BlockPublicPolicy": true,
     "IgnorePublicAcls": true,
     "RestrictPublicBuckets": true
    },
    "Tags": [
     {
      "Key": "aws-cdk:auto-delete-objects",
      "Value": "true"
     }
    ],
    "VersioningConfiguration": {
     "Status": "Enabled"
    }
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/SagemakerPipeline/DataSetsAccessLog/Resource"
   }
  },
  "SagemakerPipelineDataSetsAccessLogPolicy435A8B9F": {
   "Type": "AWS::S3::BucketPolicy",
   "Properties": {
    "Bucket": {
     "Ref": "SagemakerPipelineDataSetsAccessLog458ACA20"
    },
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "s3:*",
       "Condition": {
        "Bool": {
         "aws:SecureTransport": "false"
        }
       },
       "Effect": "Deny",
       "Principal": {
        "AWS": "*"
       },
       "Resource": [
        {
         "Fn::GetAtt": [
          "SagemakerPipelineDataSetsAccessLog458ACA20",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "SagemakerPipelineDataSetsAccessLog458ACA20",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "s3:DeleteObject*",
        "s3:GetBucket*",
        "s3:List*"
       ],
       "Effect": "Allow",
       "Principal": {
        "AWS": {
         "Fn::GetAtt": [
          "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
          "Arn"
         ]
        }
       },
       "Resource": [
        {
         "Fn::GetAtt": [
          "SagemakerPipelineDataSetsAccessLog458ACA20",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "SagemakerPipelineDataSetsAccessLog458ACA20",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": "s3:PutObject",
       "Condition": {
        "ArnLike": {
         "aws:SourceArn": {
          "Fn::GetAtt": [
           "SagemakerPipelineDataSetsBucket620B9791",
           "Arn"
          ]
         }
        },
        "StringEquals": {
         "aws:SourceAccount": "958196000588"
        }
       },
       "Effect": "Allow",
       "Principal": {
        "Service": "logging.s3.amazonaws.com"
       },
       "Resource": {
        "Fn::Join": [
         "",
         [
          {
           "Fn::GetAtt": [
            "SagemakerPipelineDataSetsAccessLog458ACA20",
            "Arn"
           ]
          },
          "/*"
         ]
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    }
   },
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/SagemakerPipeline/DataSetsAccessLog/Policy/Resource"
   }
  },
  "SagemakerPipelineDataSetsAccessLogAutoDeleteObjectsCustomResource8B406B69": {
   "Type": "Custom::S3AutoDeleteObjects",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F",
      "Arn"
     ]
    },
    "BucketName": {
     "Ref": "SagemakerPipelineDataSetsAccessLog458ACA20"
    }
   },
   "DependsOn": [
    "SagemakerPipelineDataSetsAccessLogPolicy435A8B9F"
   ],
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/SagemakerPipeline/DataSetsAccessLog/AutoDeleteObjectsCustomResource/Default"
   }
  },
  "SagemakerPipelineDataSetsBucket620B9791": {
   "Type": "AWS::S3::Bucket",
   "Properties": {
    "BucketEncryption": {
     "ServerSideEncryptionConfiguration": [
      {
       "ServerSideEncryptionByDefault": {
        "SSEAlgorithm": "AES256"
       }
      }
     ]
    },
    "LoggingConfiguration": {
     "DestinationBucketName": {
      "Ref": "SagemakerPipelineDataSetsAccessLog458ACA20"
     }
    },
    "PublicAccessBlockConfiguration": {
     "BlockPublicAcls": true,
     "BlockPublicPolicy": true,
     "IgnorePublicAcls": true,
     "RestrictPublicBuckets": true
    },
    "Tags": [
     {
      "Key": "aws-cdk:auto-delete-objects",
      "Value": "true"
     }
    ],
    "VersioningConfiguration": {
     "Status": "Enabled"
    }
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/SagemakerPipeline/DataSetsBucket/Resource"
   }
  },
  "SagemakerPipelineDataSetsBucketPolicy2624E585": {
   "Type": "AWS::S3::BucketPolicy",
   "Properties": {
    "Bucket": {
     "Ref": "SagemakerPipelineDataSetsBucket620B9791"
    },
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "s3:*",
       "Condition": {
        "Bool": {
         "aws:SecureTransport": "false"
        }
       },
       "Effect": "Deny",
       "Principal": {
        "AWS": "*"
       },
       "Resource": [
        {
         "Fn::GetAtt": [
          "SagemakerPipelineDataSetsBucket620B9791",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "SagemakerPipelineDataSetsBucket620B9791",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "s3:DeleteObject*",
        "s3:GetBucket*",
        "s3:List*"
       ],
       "Effect": "Allow",
       "Principal": {
        "AWS": {
         "Fn::GetAtt": [
          "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
          "Arn"
         ]
        }
       },
       "Resource": [
        {
         "Fn::GetAtt": [
          "SagemakerPipelineDataSetsBucket620B9791",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "SagemakerPipelineDataSetsBucket620B9791",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    }
   },
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/SagemakerPipeline/DataSetsBucket/Policy/Resource"
   }
  },
  "SagemakerPipelineDataSetsBucketAutoDeleteObjectsCustomResource53AA52B8": {
   "Type": "Custom::S3AutoDeleteObjects",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F",
      "Arn"
     ]
    },
    "BucketName": {
     "Ref": "SagemakerPipelineDataSetsBucket620B9791"
    }
   },
   "DependsOn": [
    "SagemakerPipelineDataSetsBucketPolicy2624E585"
   ],
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/SagemakerPipeline/DataSetsBucket/AutoDeleteObjectsCustomResource/Default"
   }
  },
  "SagemakerPipelineServiceCatalogProductRole0B8CB35C": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "sagemaker.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/AmazonSageMakerFullAccess"
       ]
      ]
     },
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/SecretsManagerReadWrite"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/SagemakerPipeline/ServiceCatalogProductRole/Resource"
   }
  },
  "SagemakerPipelineServiceCatalogProductRoleDefaultPolicyC0EBF888": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "s3:Abort*",
        "s3:DeleteObject*",
        "s3:GetBucket*",
        "s3:GetObject*",
        "s3:List*",
        "s3:PutObject",
        "s3:PutObjectLegalHold",
        "s3:PutObjectRetention",
        "s3:PutObjectTagging",
        "s3:PutObjectVersionTagging"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "SagemakerPipelineDataSetsBucket620B9791",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "SagemakerPipelineDataSetsBucket620B9791",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "SagemakerPipelineServiceCatalogProductRoleDefaultPolicyC0EBF888",
    "Roles": [
     {
      "Ref": "SagemakerPipelineServiceCatalogProductRole0B8CB35C"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/SagemakerPipeline/ServiceCatalogProductRole/DefaultPolicy/Resource"
   }
  },
  "SagemakerPipelineBuildEncryptionKeyEE726C8D": {
   "Type": "AWS::KMS::Key",
   "Properties": {
    "KeyPolicy": {
     "Statement": [
      {
       "Action": "kms:*",
       "Effect": "Allow",
       "Principal": {
        "AWS": "arn:aws:iam::958196000588:root"
       },
       "Resource": "*"
      },
      {
       "Action": "kms:Decrypt",
       "Effect": "Allow",
       "Principal": {
        "AWS": "arn:aws:iam::958196000588:root"
       },
       "Resource": "*"
      }
     ],
     "Version": "2012-10-17"
    },
    "EnableKeyRotation": true
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/SagemakerPipeline/BuildEncryptionKey/Resource"
   }
  },
  "SagemakerPipelineMlBuildLogGroupFCFD8BFD": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "RetentionInDays": 731
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/SagemakerPipeline/MlBuildLogGroup/Resource"
   }
  },
  "SagemakerPipelineMlBuildRole372B43AF": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "codebuild.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/AmazonSageMakerFullAccess"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/SagemakerPipeline/MlBuild/Role/Resource"
   }
  },
  "SagemakerPipelineMlBuildRoleDefaultPolicy36478584": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "s3:GetBucket*",
        "s3:GetObject*",
        "s3:List*"
       ],
       "Effect": "Allow",
       "Resource": [
        "arn:aws:s3:::cdk-stmicro-assets-958196000588-eu-west-3",
        "arn:aws:s3:::cdk-stmicro-assets-958196000588-eu-west-3/*",
        "arn:aws:s3:::cdk-stmicro-assets-958196000588-eu-west-3/bd0f0f7a29a02dcdba929ee16af2c7727b93d9aa52fa294a71b667c88cd0b7d1.zip"
       ]
      },
      {
       "Action": [
        "s3:Abort*",
        "s3:DeleteObject*",
        "s3:GetBucket*",
        "s3:GetObject*",
        "s3:List*",
        "s3:PutObject",
        "s3:PutObjectLegalHold",
        "s3:PutObjectRetention",
        "s3:PutObjectTagging",
        "s3:PutObjectVersionTagging"
       ],
       "Effect": "Allow",
       "Resource": [
        "arn:aws:s3:::cdk-stmicro-assets-958196000588-eu-west-3",
        "arn:aws:s3:::cdk-stmicro-assets-958196000588-eu-west-3/*",
        {
         "Fn::GetAtt": [
          "SagemakerPipelineDataSetsBucket620B9791",
          "Arn"
         ]
        },
        {
         "Fn::GetAtt": [
          "SagemakerPipelineMlOutput3D9DF56C",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "SagemakerPipelineDataSetsBucket620B9791",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "SagemakerPipelineMlOutput3D9DF56C",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "logs:CreateLogStream",
        "logs:PutLogEvents"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "SagemakerPipelineMlBuildLogGroupFCFD8BFD",
         "Arn"
        ]
       }
      },
      {
       "Action": [
        "logs:CreateLogGroup",
        "logs:CreateLogStream",
        "logs:PutLogEvents"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:logs:eu-west-3:958196000588:log-group:/aws/codebuild/",
           {
            "Ref": "SagemakerPipelineMlBuildE5806199"
           },
           ":*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:logs:eu-west-3:958196000588:log-group:/aws/codebuild/",
           {
            "Ref": "SagemakerPipelineMlBuildE5806199"
           }
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "codebuild:BatchPutCodeCoverages",
        "codebuild:BatchPutTestCases",
        "codebuild:CreateReport",
        "codebuild:CreateReportGroup",
        "codebuild:UpdateReport"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::Join": [
         "",
         [
          "arn:aws:codebuild:eu-west-3:958196000588:report-group/",
          {
           "Ref": "SagemakerPipelineMlBuildE5806199"
          },
          "-*"
         ]
        ]
       }
      },
      {
       "Action": [
        "kms:Decrypt",
        "kms:Encrypt",
        "kms:GenerateDataKey*",
        "kms:ReEncrypt*"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "SagemakerPipelineBuildEncryptionKeyEE726C8D",
         "Arn"
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "SagemakerPipelineMlBuildRoleDefaultPolicy36478584",
    "Roles": [
     {
      "Ref": "SagemakerPipelineMlBuildRole372B43AF"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/SagemakerPipeline/MlBuild/Role/DefaultPolicy/Resource"
   }
  },
  "SagemakerPipelineMlBuildE5806199": {
   "Type": "AWS::CodeBuild::Project",
   "Properties": {
    "Artifacts": {
     "Location": {
      "Ref": "SagemakerPipelineMlOutput3D9DF56C"
     },
     "NamespaceType": "NONE",
     "OverrideArtifactName": true,
     "Packaging": "NONE",
     "Type": "S3"
    },
    "Environment": {
     "ComputeType": "BUILD_GENERAL1_2XLARGE",
     "EnvironmentVariables": [
      {
       "Name": "SAGEMAKER_PROJECT_NAME",
       "Type": "PLAINTEXT",
       "Value": {
        "Fn::GetAtt": [
         "SagmakerStmProjectGetNameCrC74D4321",
         "Parameter.Value"
        ]
       }
      },
      {
       "Name": "SAGEMAKER_PROJECT_ID",
       "Type": "PLAINTEXT",
       "Value": {
        "Fn::GetAtt": [
         "SagmakerProject9DB5E616",
         "ProjectId"
        ]
       }
      },
      {
       "Name": "ARTIFACT_BUCKET",
       "Type": "PLAINTEXT",
       "Value": {
        "Ref": "SagemakerPipelineDataSetsBucket620B9791"
       }
      },
      {
       "Name": "SAGEMAKER_PIPELINE_NAME",
       "Type": "PLAINTEXT",
       "Value": {
        "Fn::Join": [
         "",
         [
          "sagemaker-",
          {
           "Fn::GetAtt": [
            "SagmakerStmProjectGetNameCrC74D4321",
            "Parameter.Value"
           ]
          }
         ]
        ]
       }
      },
      {
       "Name": "SAGEMAKER_PIPELINE_ROLE_ARN",
       "Type": "PLAINTEXT",
       "Value": {
        "Fn::GetAtt": [
         "SagemakerPipelineServiceCatalogProductRole0B8CB35C",
         "Arn"
        ]
       }
      },
      {
       "Name": "AWS_REGION",
       "Type": "PLAINTEXT",
       "Value": "eu-west-3"
      },
      {
       "Name": "STDEVCLOUD_USERNAME_SECRET",
       "Type": "PLAINTEXT",
       "Value": "STDEVCLOUD_USERNAME_SECRET"
      },
      {
       "Name": "STDEVCLOUD_PASSWORD_SECRET",
       "Type": "PLAINTEXT",
       "Value": "STDEVCLOUD_PASSWORD_SECRET"
      }
     ],
     "Image": "aws/codebuild/standard:1.0",
     "ImagePullCredentialsType": "CODEBUILD",
     "PrivilegedMode": false,
     "Type": "LINUX_CONTAINER"
    },
    "ServiceRole": {
     "Fn::GetAtt": [
      "SagemakerPipelineMlBuildRole372B43AF",
      "Arn"
     ]
    },
    "Source": {
     "BuildSpec": "arn:aws:s3:::cdk-stmicro-assets-958196000588-eu-west-3/d5eb756649175caf4fb7cd527f332ca407b4697e17fd78bdc4f2dd60da8473e6.yml",
     "Location": "cdk-stmicro-assets-958196000588-eu-west-3/bd0f0f7a29a02dcdba929ee16af2c7727b93d9aa52fa294a71b667c88cd0b7d1.zip",
     "Type": "S3"
    },
    "Cache": {
     "Type": "NO_CACHE"
    },
    "EncryptionKey": {
     "Fn::GetAtt": [
      "SagemakerPipelineBuildEncryptionKeyEE726C8D",
      "Arn"
     ]
    },
    "LogsConfig": {
     "CloudWatchLogs": {
      "GroupName": {
       "Ref": "SagemakerPipelineMlBuildLogGroupFCFD8BFD"
      },
      "Status": "ENABLED"
     }
    },
    "TimeoutInMinutes": 120
   },
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/SagemakerPipeline/MlBuild/Resource"
   }
  },
  "SagemakerPipelineMlBuildBuildSucceed5CE53F34": {
   "Type": "AWS::Events::Rule",
   "Properties": {
    "EventPattern": {
     "source": [
      "aws.codebuild"
     ],
     "detail": {
      "project-name": [
       {
        "Ref": "SagemakerPipelineMlBuildE5806199"
       }
      ],
      "build-status": [
       "SUCCEEDED"
      ]
     },
     "detail-type": [
      "CodeBuild Build State Change"
     ]
    },
    "State": "ENABLED",
    "Targets": [
     {
      "Arn": {
       "Fn::GetAtt": [
        "SagemakerPipelinewaithandler98FCA53E",
        "Arn"
       ]
      },
      "Id": "Target0"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/SagemakerPipeline/MlBuild/BuildSucceed/Resource"
   }
  },
  "SagemakerPipelineMlBuildBuildSucceedAllowEventRulePipelineStack1MlStageMlStackSagemakerPipelinewaithandler08EE76053AE4A4DE": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "SagemakerPipelinewaithandler98FCA53E",
      "Arn"
     ]
    },
    "Principal": "events.amazonaws.com",
    "SourceArn": {
     "Fn::GetAtt": [
      "SagemakerPipelineMlBuildBuildSucceed5CE53F34",
      "Arn"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/SagemakerPipeline/MlBuild/BuildSucceed/AllowEventRulePipelineStack1MlStageMlStackSagemakerPipelinewaithandler08EE7605"
   }
  },
  "SagemakerPipelineMlBuildBuildFailB7ECC89F": {
   "Type": "AWS::Events::Rule",
   "Properties": {
    "EventPattern": {
     "source": [
      "aws.codebuild"
     ],
     "detail": {
      "project-name": [
       {
        "Ref": "SagemakerPipelineMlBuildE5806199"
       }
      ],
      "build-status": [
       "FAILED"
      ]
     },
     "detail-type": [
      "CodeBuild Build State Change"
     ]
    },
    "State": "ENABLED",
    "Targets": [
     {
      "Arn": {
       "Fn::GetAtt": [
        "SagemakerPipelinewaithandler98FCA53E",
        "Arn"
       ]
      },
      "Id": "Target0"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/SagemakerPipeline/MlBuild/BuildFail/Resource"
   }
  },
  "SagemakerPipelineMlBuildBuildFailAllowEventRulePipelineStack1MlStageMlStackSagemakerPipelinewaithandler08EE7605C0465401": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "SagemakerPipelinewaithandler98FCA53E",
      "Arn"
     ]
    },
    "Principal": "events.amazonaws.com",
    "SourceArn": {
     "Fn::GetAtt": [
      "SagemakerPipelineMlBuildBuildFailB7ECC89F",
      "Arn"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/SagemakerPipeline/MlBuild/BuildFail/AllowEventRulePipelineStack1MlStageMlStackSagemakerPipelinewaithandler08EE7605"
   }
  },
  "SagemakerPipelineStringParameter5DE8C810": {
   "Type": "AWS::SSM::Parameter",
   "Properties": {
    "Type": "String",
    "Value": "0"
   },
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/SagemakerPipeline/StringParameter/Resource"
   }
  },
  "SagemakerPipelineFnRole303B36DE": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/AmazonSSMFullAccess"
       ]
      ]
     },
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/AWSCodeBuildAdminAccess"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/SagemakerPipeline/FnRole/Resource"
   }
  },
  "SagemakerPipelineCfnWaitConditionHandle17020327124736826B29F": {
   "Type": "AWS::CloudFormation::WaitConditionHandle",
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/SagemakerPipeline/CfnWaitConditionHandle1702032712473"
   }
  },
  "SagemakerPipelinewaithandler98FCA53E": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-stmicro-assets-958196000588-eu-west-3",
     "S3Key": "e1edcf66bf497ac3c6a872e9a59b9e3c45a33e48e9deb2d785e6d14c12c7ec20.zip"
    },
    "Role": {
     "Fn::GetAtt": [
      "SagemakerPipelineFnRole303B36DE",
      "Arn"
     ]
    },
    "Environment": {
     "Variables": {
      "AWS_NODEJS_CONNECTION_REUSE_ENABLED": "1",
      "assetHash": "bd0f0f7a29a02dcdba929ee16af2c7727b93d9aa52fa294a71b667c88cd0b7d1",
      "paramName": {
       "Ref": "SagemakerPipelineStringParameter5DE8C810"
      },
      "projectName": {
       "Ref": "SagemakerPipelineMlBuildE5806199"
      },
      "runEveryTime": "1702032712477",
      "waitCompletionUrl": {
       "Ref": "SagemakerPipelineCfnWaitConditionHandle17020327124736826B29F"
      }
     }
    },
    "Handler": "index.handler",
    "Runtime": "nodejs18.x"
   },
   "DependsOn": [
    "SagemakerPipelineFnRole303B36DE"
   ],
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/SagemakerPipeline/wait-handler/Resource",
    "aws:asset:path": "../asset.e1edcf66bf497ac3c6a872e9a59b9e3c45a33e48e9deb2d785e6d14c12c7ec20",
    "aws:asset:is-bundled": true,
    "aws:asset:property": "Code"
   }
  },
  "SagemakerPipelinewaithandlerCurrentVersionCB910B81581b4ae639f399c8610aef585b099b20": {
   "Type": "AWS::Lambda::Version",
   "Properties": {
    "FunctionName": {
     "Ref": "SagemakerPipelinewaithandler98FCA53E"
    }
   },
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/SagemakerPipeline/wait-handler/CurrentVersion/Resource"
   }
  },
  "SagemakerPipelineCfnWaitCondition17020327150509C74A46B": {
   "Type": "AWS::CloudFormation::WaitCondition",
   "Properties": {
    "Count": 1,
    "Handle": {
     "Ref": "SagemakerPipelineCfnWaitConditionHandle17020327124736826B29F"
    },
    "Timeout": "7200"
   },
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/SagemakerPipeline/CfnWaitCondition1702032715050"
   }
  },
  "SagemakerPipelineBuildTrigger352DCC5D": {
   "Type": "Custom::Trigger",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "AWSCDKTriggerCustomResourceProviderCustomResourceProviderHandler97BECD91",
      "Arn"
     ]
    },
    "HandlerArn": {
     "Ref": "SagemakerPipelinewaithandlerCurrentVersionCB910B81581b4ae639f399c8610aef585b099b20"
    },
    "InvocationType": "Event",
    "Timeout": "120000"
   },
   "DependsOn": [
    "SagemakerPipelineMlBuildBuildFailAllowEventRulePipelineStack1MlStageMlStackSagemakerPipelinewaithandler08EE7605C0465401",
    "SagemakerPipelineMlBuildBuildFailB7ECC89F",
    "SagemakerPipelineMlBuildBuildSucceedAllowEventRulePipelineStack1MlStageMlStackSagemakerPipelinewaithandler08EE76053AE4A4DE",
    "SagemakerPipelineMlBuildBuildSucceed5CE53F34",
    "SagemakerPipelineMlBuildE5806199",
    "SagemakerPipelineMlBuildRoleDefaultPolicy36478584",
    "SagemakerPipelineMlBuildRole372B43AF"
   ],
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/SagemakerPipeline/BuildTrigger/Default/Default"
   }
  },
  "SagemakerPipelineKMSB17E41F6": {
   "Type": "AWS::KMS::Key",
   "Properties": {
    "KeyPolicy": {
     "Statement": [
      {
       "Action": "kms:*",
       "Effect": "Allow",
       "Principal": {
        "AWS": "arn:aws:iam::958196000588:root"
       },
       "Resource": "*"
      },
      {
       "Action": [
        "kms:CreateGrant",
        "kms:Decrypt",
        "kms:DescribeKey",
        "kms:Encrypt",
        "kms:GenerateDataKey*",
        "kms:ReEncrypt*"
       ],
       "Condition": {
        "StringEquals": {
         "kms:ViaService": "secretsmanager.eu-west-3.amazonaws.com"
        }
       },
       "Effect": "Allow",
       "Principal": {
        "AWS": "arn:aws:iam::958196000588:root"
       },
       "Resource": "*"
      },
      {
       "Action": "kms:Decrypt",
       "Effect": "Allow",
       "Principal": {
        "AWS": "arn:aws:iam::958196000588:root"
       },
       "Resource": "*"
      },
      {
       "Action": "kms:Decrypt",
       "Condition": {
        "StringEquals": {
         "kms:ViaService": "secretsmanager.eu-west-3.amazonaws.com"
        }
       },
       "Effect": "Allow",
       "Principal": {
        "AWS": "arn:aws:iam::958196000588:root"
       },
       "Resource": "*"
      }
     ],
     "Version": "2012-10-17"
    },
    "EnableKeyRotation": true
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/SagemakerPipeline/KMS/Resource"
   }
  },
  "SagemakerPipelineMlOutputSecret49F3E40E": {
   "Type": "AWS::SecretsManager::Secret",
   "Properties": {
    "KmsKeyId": {
     "Fn::GetAtt": [
      "SagemakerPipelineKMSB17E41F6",
      "Arn"
     ]
    },
    "Name": "MlBucketArn",
    "SecretString": {
     "Fn::GetAtt": [
      "SagemakerPipelineMlOutput3D9DF56C",
      "Arn"
     ]
    }
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/SagemakerPipeline/MlOutputSecret/Resource"
   }
  },
  "SagemakerPipelineMlOutputSecretPolicy6E24C6F5": {
   "Type": "AWS::SecretsManager::ResourcePolicy",
   "Properties": {
    "ResourcePolicy": {
     "Statement": [
      {
       "Action": [
        "secretsmanager:DescribeSecret",
        "secretsmanager:GetSecretValue"
       ],
       "Effect": "Allow",
       "Principal": {
        "AWS": "arn:aws:iam::958196000588:root"
       },
       "Resource": {
        "Ref": "SagemakerPipelineMlOutputSecret49F3E40E"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "SecretId": {
     "Ref": "SagemakerPipelineMlOutputSecret49F3E40E"
    }
   },
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/SagemakerPipeline/MlOutputSecret/Policy/Resource"
   }
  },
  "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Version": "2012-10-17",
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ]
    },
    "ManagedPolicyArns": [
     {
      "Fn::Sub": "arn:${AWS::Partition}:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role"
   }
  },
  "CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-stmicro-assets-958196000588-eu-west-3",
     "S3Key": "350185a1069fa20a23a583e20c77f6844218bd73097902362dc94f1a108f5d89.zip"
    },
    "Timeout": 900,
    "MemorySize": 128,
    "Handler": "__entrypoint__.handler",
    "Role": {
     "Fn::GetAtt": [
      "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
      "Arn"
     ]
    },
    "Runtime": "nodejs16.x",
    "Description": {
     "Fn::Join": [
      "",
      [
       "Lambda function for auto-deleting objects in ",
       {
        "Ref": "SagemakerPipelineMlOutputAccessLog1B875E20"
       },
       " S3 bucket."
      ]
     ]
    }
   },
   "DependsOn": [
    "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092"
   ],
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler",
    "aws:asset:path": "../asset.350185a1069fa20a23a583e20c77f6844218bd73097902362dc94f1a108f5d89",
    "aws:asset:property": "Code"
   }
  },
  "AWSCDKTriggerCustomResourceProviderCustomResourceProviderRoleE18FAF0A": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Version": "2012-10-17",
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ]
    },
    "ManagedPolicyArns": [
     {
      "Fn::Sub": "arn:${AWS::Partition}:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
     }
    ],
    "Policies": [
     {
      "PolicyName": "Inline",
      "PolicyDocument": {
       "Version": "2012-10-17",
       "Statement": [
        {
         "Effect": "Allow",
         "Action": [
          "lambda:InvokeFunction"
         ],
         "Resource": [
          {
           "Fn::Join": [
            "",
            [
             {
              "Fn::GetAtt": [
               "SagemakerPipelinewaithandler98FCA53E",
               "Arn"
              ]
             },
             ":*"
            ]
           ]
          }
         ]
        }
       ]
      }
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/AWSCDK.TriggerCustomResourceProviderCustomResourceProvider/Role"
   }
  },
  "AWSCDKTriggerCustomResourceProviderCustomResourceProviderHandler97BECD91": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-stmicro-assets-958196000588-eu-west-3",
     "S3Key": "e8adfc80603cbf0b8f56fd639b6444aeb86502537f92274026a04ae0d0d2574f.zip"
    },
    "Timeout": 900,
    "MemorySize": 128,
    "Handler": "__entrypoint__.handler",
    "Role": {
     "Fn::GetAtt": [
      "AWSCDKTriggerCustomResourceProviderCustomResourceProviderRoleE18FAF0A",
      "Arn"
     ]
    },
    "Runtime": "nodejs16.x"
   },
   "DependsOn": [
    "AWSCDKTriggerCustomResourceProviderCustomResourceProviderRoleE18FAF0A"
   ],
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/AWSCDK.TriggerCustomResourceProviderCustomResourceProvider/Handler",
    "aws:asset:path": "../asset.e8adfc80603cbf0b8f56fd639b6444aeb86502537f92274026a04ae0d0d2574f",
    "aws:asset:property": "Code"
   }
  },
  "CDKMetadata": {
   "Type": "AWS::CDK::Metadata",
   "Properties": {
    "Analytics": "v2:deflate64:H4sIAAAAAAAA/21TwW4aMRD9Fu7GDc2huRKqtFKiaEXa9IgGe9ga1vbKYxNVq/33ju0FEhRxmPfGz6PnN+xXeXcrb2bwRnOlD/PObOXwEkEdBLc2gwErh7XvUKx2rtTGd0b9y7SiURCGo1GoIELnWzk0PsQdn/kq+ow0wThleuiWRF4ZiMa7K4HXScWr4ydITv3NNlbeUQxgXBSrzif94IMtsuliVn96wHahRQsHDHJg0XdveUqW/+Z3sGhn6mMZ7rEOWvb9KDqwWw0cjnFth9G7B/ZSjJ0BS9/jBoM1RJm9YqCpO0H2cbsBIowkl7kwl8N9UgeM90AoKsw3JlTLJf73fBQHS3J4xHLChf36ljtPvv0RfOpLehMehfIat8l0mpd1eeYER4FHdGxrWKdp71zZL9n81+DNtQ0EsBgxlGsnwnNz4rtT4iXfP2AiL0ub3PkJTteRH9qncDeOfe1JPpdyjpJQBY7JguPN8dZeCs9TJrRG8ikovGTzsTOOZ4lQiaK3mzBxDv+NVqV3llzTyzhRNsWfR8shCI6iZUMkf1VwdZHjPBqdY8nPknv6clzcycU3uZjtyZh5SC4ai3Jdq7iR/Jv1xfErdEbXEPNXeazUh7nauTZB0P8BlBIPKrcDAAA="
   },
   "Metadata": {
    "aws:cdk:path": "PipelineStack1/MlStage/MlStack/CDKMetadata/Default"
   }
  }
 },
 "Parameters": {
  "BootstrapVersion": {
   "Type": "AWS::SSM::Parameter::Value<String>",
   "Default": "/cdk-bootstrap/stmicro/version",
   "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]"
  }
 },
 "Rules": {
  "CheckBootstrapVersion": {
   "Assertions": [
    {
     "Assert": {
      "Fn::Not": [
       {
        "Fn::Contains": [
         [
          "1",
          "2",
          "3",
          "4",
          "5"
         ],
         {
          "Ref": "BootstrapVersion"
         }
        ]
       }
      ]
     },
     "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI."
    }
   ]
  }
 }
}